<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- SEO Meta Tags -->
  <title>LOL Auction - 롤 내전 팀 경매 시스템</title>
  <meta name="description" content="리그 오브 레전드(LoL) 내전 및 대회 팀 구성을 위한 실시간 경매 웹 사이트입니다. 간편하게 팀원을 경매로 뽑아보세요!">
  <meta name="keywords" content="롤 경매, 롤 내전, 팀 경매, LOL Auction, 리그 오브 레전드, 내전 도우미, 팀 짜기, 경매 시스템">
  <meta name="author" content="LOL Auction">

  <!-- Open Graph / Facebook / Discord / Kakao -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://lol-auction.co.kr/">
  <meta property="og:title" content="LOL Auction - 롤 내전 팀 경매">
  <meta property="og:description" content="실시간으로 진행되는 롤 내전 팀원 경매 시스템! 지금 바로 시작하세요.">
  <meta property="og:image" content="https://lol-auction.co.kr/og-image.png">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://lol-auction.co.kr/">
  <meta property="twitter:title" content="LOL Auction - 롤 내전 팀 경매">
  <meta property="twitter:description" content="실시간으로 진행되는 롤 내전 팀원 경매 시스템! 지금 바로 시작하세요.">
  <meta property="twitter:image" content="https://lol-auction.co.kr/og-image.png">
</head>
<body>
<div id="app">
  <!-- Header -->
  <header class="site-header">
    <div class="header-content">
      <div class="logo" id="site-logo">LOL Auction</div>
      <nav class="nav-menu">
        <button id="btn-open-help" class="nav-btn">도움말</button>
        <button id="btn-open-update" class="nav-btn">패치노트</button>
      </nav>
    </div>
  </header>

  <!-- 0. 랜딩 페이지 (첫 화면) -->
  <div id="landing-screen" class="screen-content">
    <div class="landing-content">
      <h1 class="landing-title">LOL Auction</h1>
      <p class="landing-subtitle">리그 오브 레전드 내전 팀 구성을 위한<br>실시간 경매 시스템</p>
      <div class="landing-features">
        <div class="feature-item">
          <span class="feature-icon">⏱️</span>
          <span>실시간 입찰 경쟁</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">📋</span>
          <span>간편한 명단 등록</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">📊</span>
          <span>결과 엑셀 다운로드</span>
        </div>
      </div>
      <button id="btn-go-setup" class="btn-primary landing-btn">시작하기</button>
    </div>
  </div>

  <!-- 1. 설정 화면 (방 생성) -->
  <div id="setup-screen" class="screen-content" style="display: none;">
    <div class="modal" id="modal-step-1">
      <h1>AUCTION SETUP</h1>
      <div class="setup-notice">
        <p>💡 첫 번째 칸에 입력된 팀장이 <strong>방장 권한</strong>을 가집니다.</p>
      </div>
      <div class="input-group">
        <label style="display: flex; align-items: center; gap: 6px;">
          팀장 목록 및 초기 포인트
          <div class="tooltip-container">
            <span class="help-icon">?</span>
            <div class="tooltip-content">
              <h3>👑 방장은 어떤 역할을 하나요?</h3>
              <ul>
                <li><strong>방 생성 및 초대:</strong> 경매 방을 만들고 링크를 팀장들에게 공유합니다.</li>
                <li><strong>선수 명단 등록:</strong> CSV 파일로 참가자 명단을 일괄 등록합니다.</li>
                <li><strong>경매 시작:</strong> 모든 팀장이 접속해야 경매를 시작할 수 있습니다.</li>
                <li><strong>결과 관리:</strong> 경매 종료 후 최종 팀 구성 정보를 엑셀로 다운로드합니다.</li>
              </ul>
            </div>
          </div>
        </label>
        <div id="leader-input-list" class="scroll-input-area">
          <div class="leader-row" data-index="1">
            <input type="text" class="leader-name-input" placeholder="팀장 1 이름 (방장)">
            <input type="number" class="leader-point-input" value="1000" placeholder="Point">
          </div>
          <div class="leader-row" data-index="2">
            <input type="text" class="leader-name-input" placeholder="팀장 2 이름">
            <input type="number" class="leader-point-input" value="1000" placeholder="Point">
          </div>
        </div>
        <button type="button" id="btn-add-leader" class="btn-secondary">+ 팀장 추가</button>
      </div>
      <button id="btn-generate-links" class="btn-primary main-action-btn">링크 생성하기</button>
    </div>

    <div class="modal result-modal" id="modal-step-2" style="display: none;">
      <button class="btn-close-modal" id="btn-close-result">×</button>
      <h1>ROOM CREATED</h1>
      <div class="setup-notice success">
        <p>✅ 방이 생성되었습니다. 아래 링크를 복사하여 공유하세요.</p>
      </div>
      <div id="generated-links-area" class="scroll-input-area result-link-list">
      </div>
      <div class="modal-footer-btns">
        <button id="btn-enter-as-admin" class="btn-primary">방장으로 입장하기</button>
      </div>
    </div>
  </div>

  <!-- 3. 팀 상세 정보 모달 -->
  <div id="team-detail-modal" class="overlay" style="display: none; z-index: 3000;">
    <div class="modal">
      <button class="btn-close-modal" id="btn-close-team-modal">×</button>
      <h2 id="team-modal-title" style="color: #c8aa6e; text-align: center; margin-bottom: 20px;">팀 정보</h2>
      <div id="team-modal-members" class="scroll-input-area" style="max-height: 400px;"></div>
    </div>
  </div>

  <!-- 4. 선수 상세 정보 모달 -->
  <div id="player-info-modal" class="overlay" style="display: none; z-index: 3000;">
    <div class="modal">
      <button class="btn-close-modal" id="btn-close-player-modal">×</button>
      <h2 id="player-modal-name" style="color: #c8aa6e; text-align: center; margin-bottom: 10px;">선수 정보</h2>
      <div id="player-modal-detail" style="color: #fff;"></div>
    </div>
  </div>

  <!-- 5. 약관 모달 -->
  <div id="terms-modal" class="overlay" style="display: none; z-index: 4000;">
    <div class="modal" style="max-width: 800px;">
      <button class="btn-close-modal" id="btn-close-terms">×</button>
      <h2 id="terms-title" style="color: #c8aa6e; text-align: center; margin-bottom: 20px;"></h2>
      <div id="terms-content" class="scroll-input-area" style="max-height: 60vh; text-align: left; white-space: pre-wrap; line-height: 1.6;"></div>
    </div>
  </div>

  <!-- 6. 도움말 모달 -->
  <div id="help-modal" class="overlay" style="display: none; z-index: 4000;">
    <div class="modal" style="max-width: 800px;">
      <button class="btn-close-modal" id="btn-close-help">×</button>
      <div id="help-content" class="scroll-input-area" style="max-height: 60vh; text-align: left; line-height: 1.6;"></div>
    </div>
  </div>

  <!-- 7. 업데이트 공지 모달 -->
  <div id="update-modal" class="overlay" style="display: none; z-index: 4000;">
    <div class="modal" style="max-width: 800px;">
      <button class="btn-close-modal" id="btn-close-update">×</button>
      <div id="update-content" class="scroll-input-area" style="max-height: 60vh; text-align: left; line-height: 1.6;"></div>
    </div>
  </div>

  <!-- 2. 경매장 화면 -->
  <div class="auction-container screen-content" style="display: none;">
    <!-- 좌측: 선수 리스트 -->
    <div class="sidebar left-sidebar">
      <div id="player-list" class="scroll-area">
        <!-- Renderer.renderPlayerList() -->
      </div>
    </div>

    <!-- 중앙: 메인 스테이지 -->
    <div class="main-dashboard">
      <div class="dashboard-header" style="position: relative; width: 100%;">
        <div id="timer" class="timer-display">--</div>

        <!-- 경매장 도움말 -->
        <div class="tooltip-container" style="position: absolute; top: 10px; right: 10px;">
            <span class="help-icon">?</span>
            <div class="tooltip-content" style="width: 320px; right: 0; left: auto; transform: none; top: 130%;">
                <h3>📜 경매 규칙 & 가이드</h3>
                <ul>
                    <li><strong>CSV 형식:</strong> 이름, 닉네임, 티어, 주포지션, 부포지션, 모스트1~3 (헤더 X)</li>
                    <li><strong>진행 순서:</strong> 등록된 선수가 랜덤 순서로 경매에 나옵니다.</li>
                    <li><strong>유찰 규칙:</strong> 시간 내 입찰이 없으면 유찰되며, 대기 선수가 없을 때 다시 등장합니다.</li>
                    <li><strong>종료 조건:</strong> 모든 팀이 팀원 4명을 채우면 즉시 종료됩니다.</li>
                </ul>
            </div>
        </div>
      </div>

      <!-- 2. 상태 메시지 (타이머 하단) -->
      <div id="auction-status-message" class="status-message"></div>

      <!-- 3. 통합 카드 (선수 정보 + 로그 + 입찰 패널) -->
      <div class="auction-card">
        <!-- 선수 정보 -->
        <div id="player-info-area" class="player-info-area">
            <!-- Renderer.renderPlayerInfo() -->
        </div>

        <!-- 하단 영역: 로그 + 입찰 패널 -->
        <div class="card-bottom-area">
            <!-- 로그 -->
            <div id="auction-logs" class="log-container"></div>

            <!-- 입찰 패널 -->
            <div class="control-panel" id="control-panel-container">
                <!-- 입찰 컨트롤 -->
                <div id="bidding-controls" class="bid-actions">
                  <div class="bid-label">빠른 입찰 (추가)</div>
                  <div class="bid-btn-group">
                    <button class="btn-bid plus" data-amount="5">+5</button>
                    <button class="btn-bid plus" data-amount="10">+10</button>
                    <button class="btn-bid plus" data-amount="30">+30</button>
                    <button class="btn-bid plus" data-amount="50">+50</button>
                    <button class="btn-bid plus" data-amount="100">+100</button>
                    <button class="btn-bid plus" data-amount="500">+500</button>
                  </div>

                  <!-- 직접 입찰 영역 -->
                  <div class="custom-bid-area">
                    <div class="bid-label">직접 입력 입찰</div>
                    <div class="custom-bid-group">
                        <input type="number" id="custom-bid-input" placeholder="금액 입력" class="bid-input">
                        <button id="btn-custom-bid" class="btn-primary bid-submit-btn">입찰</button>
                    </div>
                  </div>

                  <div style="display: flex; gap: 5px; margin-top: 10px; border-top: 1px solid #30363d; padding-top: 10px; justify-content: center;">
                     <button id="btn-pause" class="btn-secondary btn-small" style="background:#555;">⏸ 퍼즈 요청</button>
                     <button id="btn-resume-auction" class="btn-primary btn-small" style="display:none; background: #238636; border-color: #2ea043;">▶ 퍼즈 해제</button>
                  </div>
                </div>

                <!-- 방장 전용: CSV 업로드 및 시작 -->
                <div id="admin-controls" style="display: none;">
                  <div class="admin-btn-group">
                    <input type="file" id="csv-upload" accept=".csv" style="display:none">
                    <button id="btn-upload-csv" class="btn-secondary">📂 명단 등록 (CSV)</button>
                    <button id="btn-start-auction" class="btn-primary">🚀 경매 시작</button>
                    <button id="btn-download-result" class="btn-primary" style="display:none; background:#238636; border-color:#2ea043;">📥 결과 다운로드</button>
                  </div>
                </div>
            </div>
        </div>
      </div>
    </div>

    <!-- 우측: 팀 리스트 -->
    <div class="sidebar right-sidebar">
      <div id="team-list" class="scroll-area">
        <!-- Renderer.renderTeams() -->
      </div>
    </div>

    <!-- 하단: 통계 바 -->
    <div id="auction-stats">
      <!-- Renderer.renderStats() -->
    </div>
  </div>

  <!-- 공통 Footer -->
  <footer class="site-footer">
    <div class="footer-content">
      <p>&copy; 2026 Gwanghyeok Choi. All rights reserved.</p>
      <p>
        <a href="#" id="link-privacy">개인정보처리방침</a> | <a href="#" id="link-terms">이용약관</a>
      </p>
      <p style="font-size: 11px; color: #666; margin-top: 5px;">
        Contact: <a href="mailto:ewq15651@gmail.com" style="color: #8b949e; text-decoration: none;">ewq15651@gmail.com</a>
      </p>
      <p class="riot-notice">
        This site is not affiliated with or endorsed by Riot Games, Inc.<br>
        League of Legends and all related assets are trademarks or registered trademarks of Riot Games, Inc.
      </p>
    </div>
  </footer>
</div>
<script type="module" src="/src/main.ts"></script>
</body>
</html>